
macro(TEST_CORNELL_DATASET MASTER_DATASET_ID DATASET_ID DATASET_DIRECTORY ROI_X ROI_Y ROI_Z ROI_DX ROI_DY ROI_DZ EXPECTED_VOLUME)

set(COLLECTION_PATH ${TEST_CORNELL_DATA_ROOT} )
set(DATASET_ROI ${TEMP}/${DATASET_ID}_ROI.mha)

CONVERT_DICOM_TO_META( ${COLLECTION_PATH} ${MASTER_DATASET_ID} ${DATASET_DIRECTORY} )
EXTRACT_REGION_OF_INTEREST(${MASTER_DATASET_ID} ${DATASET_ID} ${ROI_X} ${ROI_Y} ${ROI_Z} ${ROI_DX} ${ROI_DY} ${ROI_DZ} )
GENERATE_FEATURES( ${DATASET_ID} )
SCREEN_SHOT_FEATURES(  ${DATASET_ID} 001 )
COMPUTE_SEGMENTATIONS( ${DATASET_ID} 001 ${EXPECTED_VOLUME})

endmacro(TEST_CORNELL_DATASET)


TEST_CORNELL_DATASET(SL0074Full SL0074 
  "CornellPartSolid3/SL0074-20000101/SL0074/20000101-134856-2-1"
  100 170 180 
  100 120  64
  10000.0
  )

TEST_CORNELL_DATASET(SM0052Full SM0052 
  "SM0052-20000101/SM0052/20000101-154701-2-1"
  317   193   154
  111   116   85
  10000.0
  )

TEST_CORNELL_DATASET(SM0053Full SM0053 
  "SM0053-20000101/SM0053/20000101-123846-2-1"
  317   193   154  # MUST BE REPLACED
  111   116   8